<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lasso Analysis: Predicting Marijuana Use • MLearnYRBSS</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Lasso Analysis: Predicting Marijuana Use">
<meta property="og:description" content="MLearnYRBSS">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MLearnYRBSS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/lasso.html">Lasso Analysis: Predicting Marijuana Use</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Lasso Analysis: Predicting Marijuana Use</h1>
                        <h4 data-toc-skip class="author">Catalina
Canizares</h4>
                        <h4 data-toc-skip class="author">Francisco
Cardozo</h4>
            
      
      
      <div class="hidden name"><code>lasso.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidymodels.tidymodels.org" class="external-link">tidymodels</a></span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">MLearnYRBSS</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/skimr/" class="external-link">skimr</a></span><span class="op">)</span></span></code></pre></div>
<p>Welcome to the first vignette of our educational data package
<code>MLearnYRBSS</code> on supervised machine learning methods with
<code>tidymodels</code>. In this vignette, we aim to investigate the
research question of whether we can predict marijuana use based on
various predictors. These predictors include alcohol and other drug use,
reckless behaviors such as not wearing seatbelts or driving under the
influence, as well as variables related to sexual abuse, carrying guns
to school, bullying, and feeling unsafe while walking to school.</p>
<div class="section level2">
<h2 id="explore-the-data">Explore the Data<a class="anchor" aria-label="anchor" href="#explore-the-data"></a>
</h2>
<p>The dataset is quite extensive, with most of the data being complete.
However, there is one variable, Seat belt use, which has a significant
percentage of missing values and will be excluded from the model. On the
other hand, all the other variables have a completeness rate higher than
65%. As for the outcome variable, Marijuana Use, it has a completeness
rate of 85%.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"riskyBehaviors"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://docs.ropensci.org/skimr/reference/skim.html" class="external-link">skim</a></span><span class="op">(</span><span class="va">riskyBehaviors</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">riskyBehaviors</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">13677</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">46</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">6</td>
</tr>
<tr class="odd">
<td align="left">factor</td>
<td align="left">6</td>
</tr>
<tr class="even">
<td align="left">numeric</td>
<td align="left">34</td>
</tr>
<tr class="odd">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table style="width:100%;" class="table">
<colgroup>
<col width="20%">
<col width="13%">
<col width="19%">
<col width="5%">
<col width="5%">
<col width="8%">
<col width="12%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Sex</td>
<td align="right">151</td>
<td align="right">0.99</td>
<td align="right">4</td>
<td align="right">6</td>
<td align="right">0</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Race</td>
<td align="right">438</td>
<td align="right">0.97</td>
<td align="right">5</td>
<td align="right">25</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Grade</td>
<td align="right">151</td>
<td align="right">0.99</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">SexOrientation</td>
<td align="right">702</td>
<td align="right">0.95</td>
<td align="right">8</td>
<td align="right">14</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">SeatBealtUse</td>
<td align="right">11683</td>
<td align="right">0.15</td>
<td align="right">5</td>
<td align="right">17</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">SourceAlcohol</td>
<td align="right">3656</td>
<td align="right">0.73</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table class="table">
<colgroup>
<col width="22%">
<col width="13%">
<col width="18%">
<col width="10%">
<col width="11%">
<col width="23%">
</colgroup>
<thead><tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="left">ordered</th>
<th align="right">n_unique</th>
<th align="left">top_counts</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">SexualAbuse</td>
<td align="right">2438</td>
<td align="right">0.82</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="left">0: 10368, 1: 871</td>
</tr>
<tr class="even">
<td align="left">Bullying</td>
<td align="right">230</td>
<td align="right">0.98</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="left">0: 10744, 1: 2703</td>
</tr>
<tr class="odd">
<td align="left">CyberBullying</td>
<td align="right">192</td>
<td align="right">0.99</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="left">0: 11347, 1: 2138</td>
</tr>
<tr class="even">
<td align="left">SmokingCigarette</td>
<td align="right">3708</td>
<td align="right">0.73</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="left">0: 7651, 1: 2318</td>
</tr>
<tr class="odd">
<td align="left">Vaping</td>
<td align="right">472</td>
<td align="right">0.97</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="left">0: 6648, 1: 6557</td>
</tr>
<tr class="even">
<td align="left">MarihuanaUse</td>
<td align="right">2018</td>
<td align="right">0.85</td>
<td align="left">FALSE</td>
<td align="right">2</td>
<td align="left">0: 7440, 1: 4219</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table style="width:100%;" class="table">
<colgroup>
<col width="34%">
<col width="10%">
<col width="15%">
<col width="6%">
<col width="5%">
<col width="3%">
<col width="4%">
<col width="4%">
<col width="4%">
<col width="5%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Age</td>
<td align="right">72</td>
<td align="right">0.99</td>
<td align="right">15.94</td>
<td align="right">1.24</td>
<td align="right">12</td>
<td align="right">15</td>
<td align="right">16</td>
<td align="right">17</td>
<td align="right">18</td>
<td align="left">▁▃▆▆▇</td>
</tr>
<tr class="even">
<td align="left">DrinkingDriver</td>
<td align="right">860</td>
<td align="right">0.94</td>
<td align="right">1.35</td>
<td align="right">0.89</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">DrivingDrinking</td>
<td align="right">1199</td>
<td align="right">0.91</td>
<td align="right">1.66</td>
<td align="right">0.67</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">6</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">TextingDriving</td>
<td align="right">1567</td>
<td align="right">0.89</td>
<td align="right">2.33</td>
<td align="right">1.89</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">8</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">WeaponCarrying</td>
<td align="right">3133</td>
<td align="right">0.77</td>
<td align="right">1.36</td>
<td align="right">1.03</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">WeaponCarryingSchool</td>
<td align="right">776</td>
<td align="right">0.94</td>
<td align="right">1.08</td>
<td align="right">0.50</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">GunCarrying</td>
<td align="right">2818</td>
<td align="right">0.79</td>
<td align="right">1.12</td>
<td align="right">0.61</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">UnsafeAtSchool</td>
<td align="right">76</td>
<td align="right">0.99</td>
<td align="right">1.17</td>
<td align="right">0.62</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">InjuredInSchool</td>
<td align="right">132</td>
<td align="right">0.99</td>
<td align="right">1.18</td>
<td align="right">0.80</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">8</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">PhysicalFight</td>
<td align="right">2906</td>
<td align="right">0.79</td>
<td align="right">1.47</td>
<td align="right">1.15</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">8</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">SchoolPhysicalFight</td>
<td align="right">558</td>
<td align="right">0.96</td>
<td align="right">1.16</td>
<td align="right">0.70</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">8</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">TimesSexualAbuse</td>
<td align="right">3439</td>
<td align="right">0.75</td>
<td align="right">1.22</td>
<td align="right">0.71</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">SexualAbuseByPartner</td>
<td align="right">3324</td>
<td align="right">0.76</td>
<td align="right">1.77</td>
<td align="right">0.75</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">2</td>
<td align="right">6</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">AgeFirstCig</td>
<td align="right">1375</td>
<td align="right">0.90</td>
<td align="right">1.86</td>
<td align="right">1.73</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">7</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">DaysSmokingCigarette</td>
<td align="right">1360</td>
<td align="right">0.90</td>
<td align="right">1.16</td>
<td align="right">0.78</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">7</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">CigPerDay</td>
<td align="right">2783</td>
<td align="right">0.80</td>
<td align="right">1.14</td>
<td align="right">0.67</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">7</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">DaysVaping</td>
<td align="right">910</td>
<td align="right">0.93</td>
<td align="right">2.04</td>
<td align="right">1.87</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">7</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">DaysSmokelessTobacco</td>
<td align="right">886</td>
<td align="right">0.94</td>
<td align="right">1.12</td>
<td align="right">0.68</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">7</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">DaysSmokingCigar</td>
<td align="right">872</td>
<td align="right">0.94</td>
<td align="right">1.15</td>
<td align="right">0.73</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">7</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">AgeFirstAlcohol</td>
<td align="right">491</td>
<td align="right">0.96</td>
<td align="right">3.22</td>
<td align="right">2.21</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">5</td>
<td align="right">7</td>
<td align="left">▇▁▁▃▃</td>
</tr>
<tr class="odd">
<td align="left">DaysAlcohol</td>
<td align="right">1066</td>
<td align="right">0.92</td>
<td align="right">1.53</td>
<td align="right">1.04</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">7</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">BingeDrinking</td>
<td align="right">1657</td>
<td align="right">0.88</td>
<td align="right">1.32</td>
<td align="right">0.94</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">7</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">LargestNumberOfDrinks</td>
<td align="right">4782</td>
<td align="right">0.65</td>
<td align="right">1.83</td>
<td align="right">1.78</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">8</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">TimesMarihuanaUseLife</td>
<td align="right">2018</td>
<td align="right">0.85</td>
<td align="right">2.19</td>
<td align="right">1.95</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">7</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">AgeFirstMarihuana</td>
<td align="right">431</td>
<td align="right">0.97</td>
<td align="right">2.62</td>
<td align="right">2.19</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">5</td>
<td align="right">7</td>
<td align="left">▇▁▁▂▂</td>
</tr>
<tr class="even">
<td align="left">TimesMarihuanaUse30Days</td>
<td align="right">372</td>
<td align="right">0.97</td>
<td align="right">1.55</td>
<td align="right">1.25</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">TimessSyntethicMarihuanaUseLife</td>
<td align="right">1279</td>
<td align="right">0.91</td>
<td align="right">1.16</td>
<td align="right">0.69</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">TimesCocaine</td>
<td align="right">1505</td>
<td align="right">0.89</td>
<td align="right">1.10</td>
<td align="right">0.57</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">TimesInhalant</td>
<td align="right">3022</td>
<td align="right">0.78</td>
<td align="right">1.14</td>
<td align="right">0.62</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">TimesHeroin</td>
<td align="right">966</td>
<td align="right">0.93</td>
<td align="right">1.07</td>
<td align="right">0.49</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">TimesMetha</td>
<td align="right">987</td>
<td align="right">0.93</td>
<td align="right">1.07</td>
<td align="right">0.50</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">TimesEcstasy</td>
<td align="right">1221</td>
<td align="right">0.91</td>
<td align="right">1.10</td>
<td align="right">0.54</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">TimesSteroids</td>
<td align="right">4628</td>
<td align="right">0.66</td>
<td align="right">1.05</td>
<td align="right">0.40</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">TimesNeedle</td>
<td align="right">2723</td>
<td align="right">0.80</td>
<td align="right">1.03</td>
<td align="right">0.21</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="left">▇▁▁▁▁</td>
</tr>
</tbody>
</table>
<p>Let’s examine the two groups within the Marijuana Use variable.
Specifically, we observe that the number of students who have not smoked
Marijuana is nearly double that of those who have.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">riskyBehaviors</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">MarihuanaUse</span><span class="op">)</span> </span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">#&gt;   MarihuanaUse     n</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 0             <span style="text-decoration: underline;">7</span>440</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 1             <span style="text-decoration: underline;">4</span>219</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> <span style="color: #BB0000;">NA</span>            <span style="text-decoration: underline;">2</span>018</span></span></code></pre></div>
<p>Let’s explore the relationship between Marijuana use and other forms
of substance use. It’s apparent that Marijuana use is associated with
the use of vaping, alcohol, cigarettes, and synthetic Marijuana.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">riskyBehaviors</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">MarihuanaUse</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>MarihuanaUse <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">MarihuanaUse</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="st">"No"</span>,</span>
<span>    <span class="va">MarihuanaUse</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="st">"Yes"</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">MarihuanaUse</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="va">DaysSmokingCigarette</span>, <span class="va">DaysAlcohol</span>, <span class="va">TimesInhalant</span>,</span>
<span>    <span class="va">TimessSyntethicMarihuanaUseLife</span>, <span class="va">TimesCocaine</span>,</span>
<span>    <span class="va">TimesHeroin</span>, <span class="va">TimesMetha</span>, <span class="va">TimesEcstasy</span>, <span class="va">TimesSteroids</span>,</span>
<span>    <span class="va">TimesNeedle</span>, <span class="va">BingeDrinking</span>, <span class="va">DaysVaping</span> </span>
<span>  <span class="op">)</span>, <span class="va">mean</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="op">-</span><span class="va">MarihuanaUse</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">value</span>, <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_reorder.html" class="external-link">fct_reorder</a></span><span class="op">(</span><span class="va">name</span>, <span class="va">value</span><span class="op">)</span>, fill <span class="op">=</span> <span class="va">MarihuanaUse</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.8</span>, position <span class="op">=</span> <span class="st">"dodge"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">""</span>, fill <span class="op">=</span> <span class="st">"Marihuana Use"</span>, y <span class="op">=</span> <span class="cn">NULL</span>, fill <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: There was 1 warning in `summarise()`.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `across(...)`.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In group 1: `MarihuanaUse = "No"`.</span></span>
<span><span class="co">#&gt; Caused by warning:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> The `...` argument of `across()` is deprecated as of dplyr 1.1.0.</span></span>
<span><span class="co">#&gt; Supply arguments directly to `.fns` through an anonymous function instead.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   # Previously</span></span>
<span><span class="co">#&gt;   across(a:b, mean, na.rm = TRUE)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   # Now</span></span>
<span><span class="co">#&gt;   across(a:b, \(x) mean(x, na.rm = TRUE))</span></span></code></pre></div>
<p><img src="lasso_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<p>Let’s now examine the relationship between Marijuana use and other
behaviors. It appears that Marijuana use is correlated with risky
behaviors such as driving under the influence, physical altercations,
and carrying weapons, with these behaviors being more prevalent among
adolescents who have consumed Marijuana.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">riskyBehaviors</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">MarihuanaUse</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>MarihuanaUse <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">MarihuanaUse</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="st">"No"</span>,</span>
<span>    <span class="va">MarihuanaUse</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="st">"Yes"</span></span>
<span>  <span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">MarihuanaUse</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="va">DrinkingDriver</span>, <span class="va">DrivingDrinking</span>, <span class="va">WeaponCarrying</span>, <span class="va">WeaponCarryingSchool</span>, <span class="va">GunCarrying</span>, <span class="va">UnsafeAtSchool</span>, <span class="va">InjuredInSchool</span>, </span>
<span>    <span class="va">PhysicalFight</span>, <span class="va">TimesSexualAbuse</span></span>
<span>  <span class="op">)</span>, <span class="va">mean</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span><span class="op">-</span><span class="va">MarihuanaUse</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">value</span>, <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_reorder.html" class="external-link">fct_reorder</a></span><span class="op">(</span><span class="va">name</span>, <span class="va">value</span><span class="op">)</span>, fill <span class="op">=</span> <span class="va">MarihuanaUse</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_col</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.8</span>, position <span class="op">=</span> <span class="st">"dodge"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">""</span>, fill <span class="op">=</span> <span class="st">"Marihuana Use"</span>, y <span class="op">=</span> <span class="cn">NULL</span>, fill <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_classic</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="lasso_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
</div>
<div class="section level2">
<h2 id="build-the-lasso-model">Build the Lasso Model<a class="anchor" aria-label="anchor" href="#build-the-lasso-model"></a>
</h2>
<div class="section level3">
<h3 id="spending-our-data">Spending our data<a class="anchor" aria-label="anchor" href="#spending-our-data"></a>
</h3>
<p>We are going to start by splitting our data into training and testing
sets, and creating cross-validation samples</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">568</span><span class="op">)</span></span>
<span></span>
<span><span class="va">risky_split</span> <span class="op">&lt;-</span> <span class="va">riskyBehaviors</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">MarihuanaUse</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">SeatBealtUse</span> <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">MarihuanaUse</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">initial_split</span><span class="op">(</span>strata <span class="op">=</span> <span class="va">MarihuanaUse</span><span class="op">)</span></span>
<span></span>
<span><span class="va">risky_train</span> <span class="op">&lt;-</span> <span class="fu">training</span><span class="op">(</span><span class="va">risky_split</span><span class="op">)</span></span>
<span><span class="va">risky_test</span> <span class="op">&lt;-</span> <span class="fu">testing</span><span class="op">(</span><span class="va">risky_split</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">risky_folds</span> <span class="op">&lt;-</span> <span class="fu">vfold_cv</span><span class="op">(</span><span class="va">risky_train</span><span class="op">)</span></span>
<span><span class="va">risky_folds</span></span>
<span><span class="co">#&gt; #  10-fold cross-validation </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 2</span></span></span>
<span><span class="co">#&gt;    splits             id    </span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> <span style="color: #949494;">&lt;split [7869/875]&gt;</span> Fold01</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> <span style="color: #949494;">&lt;split [7869/875]&gt;</span> Fold02</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> <span style="color: #949494;">&lt;split [7869/875]&gt;</span> Fold03</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> <span style="color: #949494;">&lt;split [7869/875]&gt;</span> Fold04</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> <span style="color: #949494;">&lt;split [7870/874]&gt;</span> Fold05</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> <span style="color: #949494;">&lt;split [7870/874]&gt;</span> Fold06</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> <span style="color: #949494;">&lt;split [7870/874]&gt;</span> Fold07</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> <span style="color: #949494;">&lt;split [7870/874]&gt;</span> Fold08</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> <span style="color: #949494;">&lt;split [7870/874]&gt;</span> Fold09</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> <span style="color: #949494;">&lt;split [7870/874]&gt;</span> Fold10</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="cooking-the-model">Cooking the model<a class="anchor" aria-label="anchor" href="#cooking-the-model"></a>
</h3>
<div class="section level4">
<h4 id="recipe">Recipe<a class="anchor" aria-label="anchor" href="#recipe"></a>
</h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">risky_rec</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">recipe</span><span class="op">(</span><span class="va">MarihuanaUse</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">risky_train</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">step_select</span><span class="op">(</span><span class="op">-</span><span class="va">AgeFirstMarihuana</span>, <span class="op">-</span><span class="va">TimesMarihuanaUse30Days</span>, </span>
<span>              <span class="op">-</span><span class="va">TimesMarihuanaUseLife</span>, <span class="op">-</span><span class="va">TimessSyntethicMarihuanaUseLife</span> <span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">step_impute_mode</span><span class="op">(</span><span class="fu">all_nominal_predictors</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">step_impute_mean</span><span class="op">(</span><span class="fu">all_numeric_predictors</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">step_normalize</span><span class="op">(</span><span class="fu">all_numeric_predictors</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">step_dummy</span><span class="op">(</span><span class="fu">all_nominal_predictors</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> </span>
<span>  </span>
<span><span class="fu">bake</span><span class="op">(</span><span class="fu">prep</span><span class="op">(</span><span class="va">risky_rec</span><span class="op">)</span>,  new_data <span class="op">=</span> <span class="va">risky_train</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 8,744</span></span>
<span><span class="co">#&gt; Columns: 57</span></span>
<span><span class="co">#&gt; $ Age                            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.76564719, -0.76564719, 0.04851054, 0…</span></span>
<span><span class="co">#&gt; $ DrinkingDriver                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.3935060, -0.3935060, -0.3935060, -0.…</span></span>
<span><span class="co">#&gt; $ DrivingDrinking                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -1.019390e+00, -1.019390e+00, 5.600123e…</span></span>
<span><span class="co">#&gt; $ TextingDriving                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -7.363573e-01, -7.363573e-01, 3.207552e…</span></span>
<span><span class="co">#&gt; $ WeaponCarrying                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.4006116, -0.4006116, -0.4006116, 2.9…</span></span>
<span><span class="co">#&gt; $ WeaponCarryingSchool           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.1509654, -0.1509654, -0.1509654, -0.…</span></span>
<span><span class="co">#&gt; $ GunCarrying                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.1969928, -0.1969928, -0.1969928, -0.…</span></span>
<span><span class="co">#&gt; $ UnsafeAtSchool                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 3.3680753, -0.2576077, -0.2576077, -0.2…</span></span>
<span><span class="co">#&gt; $ InjuredInSchool                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.2038708, 2.5763013, -0.2038708, -0.2…</span></span>
<span><span class="co">#&gt; $ PhysicalFight                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.4447523, -0.4447523, 1.6233387, -0.4…</span></span>
<span><span class="co">#&gt; $ SchoolPhysicalFight            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.2275055, -0.2275055, -0.2275055, -0.…</span></span>
<span><span class="co">#&gt; $ TimesSexualAbuse               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.348807, -0.348807, -0.348807, -0.348…</span></span>
<span><span class="co">#&gt; $ SexualAbuseByPartner           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -1.1983086, 0.3695426, 0.3695426, 0.369…</span></span>
<span><span class="co">#&gt; $ AgeFirstCig                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.5151418, -0.5151418, -0.5151418, -0.…</span></span>
<span><span class="co">#&gt; $ DaysSmokingCigarette           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.1954677, -0.1954677, -0.1954677, -0.…</span></span>
<span><span class="co">#&gt; $ CigPerDay                      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -2.361516e-01, -2.361516e-01, -2.361516…</span></span>
<span><span class="co">#&gt; $ DaysVaping                     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -5.623297e-01, -5.623297e-01, -5.623297…</span></span>
<span><span class="co">#&gt; $ DaysSmokelessTobacco           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.1606342, -0.1606342, -0.1606342, -0.…</span></span>
<span><span class="co">#&gt; $ DaysSmokingCigar               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.1894035, -0.1894035, -0.1894035, -0.…</span></span>
<span><span class="co">#&gt; $ AgeFirstAlcohol                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.26962994, -1.00497919, 0.81470811, -1…</span></span>
<span><span class="co">#&gt; $ DaysAlcohol                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 4.960707e-01, -5.196990e-01, 4.960707e-…</span></span>
<span><span class="co">#&gt; $ BingeDrinking                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.3544101, -0.3544101, -0.3544101, -0.…</span></span>
<span><span class="co">#&gt; $ LargestNumberOfDrinks          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1.065021e-01, -5.399067e-01, 1.065021e-…</span></span>
<span><span class="co">#&gt; $ TimesCocaine                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.1565961, -0.1565961, -0.1565961, -0.…</span></span>
<span><span class="co">#&gt; $ TimesInhalant                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 3.8715643, -0.2350468, -0.2350468, -0.2…</span></span>
<span><span class="co">#&gt; $ TimesHeroin                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.1039038, -0.1039038, -0.1039038, -0.…</span></span>
<span><span class="co">#&gt; $ TimesMetha                     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.1135775, -0.1135775, -0.1135775, -0.…</span></span>
<span><span class="co">#&gt; $ TimesEcstasy                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.1522691, 4.3317744, -0.1522691, -0.1…</span></span>
<span><span class="co">#&gt; $ TimesSteroids                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.1188518, -0.1188518, -0.1188518, -0.…</span></span>
<span><span class="co">#&gt; $ TimesNeedle                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -0.1220847, -0.1220847, -0.1220847, -0.…</span></span>
<span><span class="co">#&gt; $ MarihuanaUse                   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ Sex_Male                       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, …</span></span>
<span><span class="co">#&gt; $ Race_Asian                     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ Race_Black.or.African.American <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ Race_Hispanic.Latino           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, …</span></span>
<span><span class="co">#&gt; $ Race_Multiple.Hispanic         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 1, 0, 0, 1, 1, 0, 0, 1, 0, 0, 1, …</span></span>
<span><span class="co">#&gt; $ Race_Multiple.Non.Hispanic     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ Race_Native.Hawaiian.Other.PI  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ Race_White                     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 0, 1, 1, 0, 0, 1, 1, 0, 1, 0, 0, …</span></span>
<span><span class="co">#&gt; $ Grade_X11                      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, …</span></span>
<span><span class="co">#&gt; $ Grade_X12                      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, …</span></span>
<span><span class="co">#&gt; $ Grade_X9                       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, …</span></span>
<span><span class="co">#&gt; $ SexOrientation_Gay.or.Lesbian  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ SexOrientation_Heterosexual    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, …</span></span>
<span><span class="co">#&gt; $ SexOrientation_Not.sure        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ SexualAbuse_X1                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ Bullying_X1                    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ CyberBullying_X1               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ SmokingCigarette_X1            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ Vaping_X1                      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 1, 0, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ SourceAlcohol_X2               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ SourceAlcohol_X3               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ SourceAlcohol_X4               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ SourceAlcohol_X5               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ SourceAlcohol_X6               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ SourceAlcohol_X7               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span>
<span><span class="co">#&gt; $ SourceAlcohol_X8               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="engine">Engine<a class="anchor" aria-label="anchor" href="#engine"></a>
</h4>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">risky_spec</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">logistic_reg</span><span class="op">(</span>penalty <span class="op">=</span> <span class="fl">0.001</span>, mixture <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">set_engine</span><span class="op">(</span><span class="st">"glmnet"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">set_mode</span><span class="op">(</span><span class="st">"classification"</span><span class="op">)</span></span>
<span>  </span></code></pre></div>
</div>
<div class="section level4">
<h4 id="workflow">Workflow<a class="anchor" aria-label="anchor" href="#workflow"></a>
</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">risky_wf</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu">workflow</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">add_recipe</span><span class="op">(</span><span class="va">risky_rec</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">add_model</span><span class="op">(</span><span class="va">risky_spec</span><span class="op">)</span> </span></code></pre></div>
</div>
<div class="section level4">
<h4 id="estimate-the-model-and-importance-plot">Estimate the Model and Importance Plot<a class="anchor" aria-label="anchor" href="#estimate-the-model-and-importance-plot"></a>
</h4>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/koalaverse/vip/" class="external-link">vip</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'vip'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:utils':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     vi</span></span>
<span></span>
<span><span class="va">risky_wf</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">fit</span><span class="op">(</span>data <span class="op">=</span> <span class="va">risky_train</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">extract_fit_parsnip</span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/vip/man/vip.html" class="external-link">vip</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="lasso_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Catalina Canizares, Francisco Cardozo.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
